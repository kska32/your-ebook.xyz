(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,a){e.exports=a(442)},233:function(e,t,a){},288:function(e,t,a){},375:function(e,t,a){},377:function(e,t){},379:function(e,t){},388:function(e,t,a){},438:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),c=a(47),i=a.n(c),l=(a(231),a(232),a(233),a(30)),r=a(31),s=a(33),d=a(32),u=a(34),m=a(217),p=a(35),h=a(20),f=a.n(h),b=a(456),k=a(218),w=a(451),g=a(454),v=a(450),E=a(50),S=a(76),C=a(452),T=a(443),y=a(96),I=a(199),V=a.n(I),N=a(131),B=a.n(N);function L(){var e=Math.random;return Math.random=function(){return.5},new Promise(function(t){var a;a=function(){V.a.get(function(a){var o=a.map(function(e){return e.value}).join(""),n=B.a.SHA256(o),c=B.a.enc.Base64.stringify(n);Math.random=e,t(c)})},window.requestIdleCallback?requestIdleCallback(a):setTimeout(a,100)})}var D=a(97),j=a.n(D),O=a(135),R=a(41),H=a.n(R),x=a(200),q=a(201),W=(a(288),a(73)),z=a.n(W),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).download=function(e,t){var a=H.a.createWriteStream(t).getWriter();a.write(new Uint8Array(e)),a.close()},a.postStart=function(e){a.refs["item"+e].classList.add("disabled"),a.refs["item"+e].querySelector(".loader").classList.add("active")},a.postEnd=function(e){a.refs["item"+e].querySelector(".loader").classList.remove("active"),a.refs["item"+e].classList.remove("disabled")},a.qrcodeClick=function(e,t,o){e.stopPropagation(),a.props.qrcodeZoomIn(e,t,o)},a.state={percent:0,linkCopied:!1},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"itemClickHandle",value:function(e,t,a,o){var n=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(void 0!==t)o.text=t,f.a.post("".concat("","/books/getbook"),{bookid:a.bookid,token:o},c).then(function(e){if(l(),200===e.status){var t=e.data;"111"===t.result?(n.postStart(a.bookindex),n.props.closeCaptchaView(),n.itemClickHandle(null,t.text,a,t,{responseType:"arraybuffer",onDownloadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n.setState({percent:t>100?100:t<0?0:t})}})):t.result?i(!0):(n.download(t,a.bookname),n.postEnd(a.bookindex))}});else{var r=e.currentTarget.dataset,s=r.bookid,d=r.bookname,u=r.bookindex;this.postStart(u),f.a.post("".concat("","/books/getbook"),{bookid:s}).then(function(e){if(void 0!==e.data.data){var t=e.data;n.props.openCaptchaView(t,n.itemClickHandle.bind(n),{bookid:s,bookname:d,bookindex:u})}n.postEnd(u)}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){var e=this,t=this.props.item,a=t._id,o=t.title,c=t.size,i=this.props.index,l=this.props.theLastNo,r=this.state,s=r.percent,d=r.linkCopied,u=window.location.origin+"/share?ebn="+z.a.encode(o);return n.a.createElement("div",{itemScope:!0,itemType:"http://schema.org/Book",className:"SearchResultViewItem "+(i<l?"SearchResultViewCreateItem SearchResultViewHiddenItem":"SearchResultViewRemoveItem SearchResultViewHiddenItem"),onClick:function(t){e.itemClickHandle(t)},"data-bookid":a,"data-booksize":c,"data-bookname":o,"data-bookindex":i,ref:"item"+i},n.a.createElement("link",{itemProp:"additionalType",href:"https://schema.org/fileSize"}),n.a.createElement("div",{className:"progressbar",style:{transform:"translateX(".concat(-100+s,"%)")}}),s>0&&n.a.createElement("div",{className:"percentage"},s+"%"),n.a.createElement(j.a,{className:"SearchResultViewBookicon qrcode",value:u,includeMargin:!0,size:64,renderAs:"svg",onClick:function(t){e.qrcodeClick(t,u,o)}}),n.a.createElement("div",{className:"SearchResultViewBooktitle"},n.a.createElement("h2",null,n.a.createElement("span",{itemProp:"name"},o)),n.a.createElement("h6",null,n.a.createElement("span",{itemProp:"fileSize"},Math.ceil(c/1024/1024)+"MB")),n.a.createElement(q.CopyToClipboard,{text:u,onCopy:function(){e.setState({linkCopied:!0}),setTimeout(function(){e.setState({linkCopied:!1})},1200)}},n.a.createElement(E.a,{name:d?"check":"clone outline",className:"copyLink",circular:!0,onClick:function(e){e.stopPropagation()}}))),n.a.createElement(v.a,{size:"medium"}))}}]),t}(o.PureComponent);a(375),a(376);H.a.WritableStream=H.a.WritableStream||x.a,H.a.mitm="https://kska32.github.io/stream/mitm.html";var _=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).io=null,a.state={keyword:a.props.keyword,theLastNo:a.props.jsonData.length,jsonData:a.props.jsonData,showItem:!1,limitNum:10,isLoading:!1,noNewData:!1,footShowed:!1},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"ajaxOnScrollToBottom",value:function(e,t,a,o){var n=this;!1===this.state.isLoading&&(this.setState({isLoading:!0}),f.a.post("".concat("","/books/search"),{keyword:e,skipNum:t,limitNum:a}).then(function(e){n.setState({isLoading:!1}),o(e.data)}).catch(function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.keyword,o=t.theLastNo,n=t.limitNum;window.scrollTo({top:0});var c=function(t){[].slice.call(document.querySelectorAll(".SearchResultViewItem")).forEach(function(a,o){e.io.observe(a),t&&t(a,o)})};this.io=new IntersectionObserver(function(t){t.forEach(function(t,i){t.isIntersecting&&("kska_SearchResultView_bottom"===t.target.className&&(0===o||e.state.noNewData||e.ajaxOnScrollToBottom(a,o,n,function(t){if(0===t.length||"Not Found"===t)return e.state.noNewData=!0;e.setState({jsonData:[].concat(Object(O.a)(e.state.jsonData),Object(O.a)(t)),theLastNo:o+=n,showItem:!0}),c()})),/SearchResultViewCreateItem SearchResultViewHiddenItem/gi.test(t.target.className)&&t.target.classList.replace("SearchResultViewHiddenItem","SearchResultViewShowedItem")),setTimeout(function(){if(e.state.noNewData){var a=document.querySelectorAll(".SearchResultViewItem"),o=a[a.length-1];o&&/SearchResultViewCreateItem SearchResultViewShowedItem/gi.test(o.className)&&"kska_SearchResultView_bottom"===t.target.className&&(t.isIntersecting?e.setState({footShowed:!0}):e.setState({footShowed:!1}))}},1e3)})},{threshold:0}),this.io.observe(document.querySelector(".kska_SearchResultView_bottom")),c()}},{key:"render",value:function(){var e=this.state,t=e.theLastNo,a=(e.showItem,e.jsonData),o=this.props,c=o.qrcodeZoomIn,i=o.openCaptchaView,l=o.closeCaptchaView;return n.a.createElement("div",{className:"SearchResultView"},a?a.map(function(e,a){return n.a.createElement(M,{key:a,item:e,index:a,theLastNo:t,qrcodeZoomIn:c,openCaptchaView:i,closeCaptchaView:l})}):[],n.a.createElement("div",{className:this.state.isLoading?"LoadingShowed":"LoadingHidden"},n.a.createElement(v.a,{active:!0,inline:"centered"})),n.a.createElement("div",{className:"kska_SearchResultView_bottom"}),n.a.createElement("div",{className:"footer "+(this.state.footShowed?"footShowed":"footHidden")},n.a.createElement("a",{href:"mailto:kska32@gmail.com"},"By kska32@gmail.com")))}}]),t}(o.Component),F=a(98),P=a.n(F),A=(a(388),""),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).focusHandle=function(e){a.setState({searchBarMovetoTop:!0,supportedBrowser:!1})},a.blurHandle=function(e){""===e.target.value&&0===document.querySelectorAll(".SearchResultViewItem").length&&null===document.querySelector(".notfound")&&a.setState({searchBarMovetoTop:!1,supportedBrowser:!0})},a.inputHandle=function(e){a.setState({inputValue:e.target.value})},a.SuppertedBrowserList=function(e){return n.a.createElement("table",{className:a.state.supportedBrowser?"showtable":"hiddentable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Browser"),n.a.createElement("td",null,"Supported"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Chrome 52+"),n.a.createElement("td",null,"Yes")),n.a.createElement("tr",null,n.a.createElement("td",null,"Opera 39+"),n.a.createElement("td",null,"Yes")),n.a.createElement("tr",null,n.a.createElement("td",null,"Firefox"),n.a.createElement("td",null,"Yes")),n.a.createElement("tr",null,n.a.createElement("td",null,"Safari"),n.a.createElement("td",null,"No")),n.a.createElement("tr",null,n.a.createElement("td",null,"Edge"),n.a.createElement("td",null,"Yes")),n.a.createElement("tr",null,n.a.createElement("td",null,"IE"),n.a.createElement("td",null,"No"))))},a.gototop=function(e){window.scrollTo({top:10,left:10,behavior:"smooth"})},a.qrcodeZoomIn=function(e,t,o){e.stopPropagation(),a.setState({qrcodeZoomInable:!0,bookLinkAddr:t,bookTitle:o})},a.countdown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.countdownTime,t=function(e){var t=new Date(e).toUTCString().split(":"),o=t[1],n=t[2].slice(0,2),c="".concat(o,":").concat(n);a.setState({countdownTime:c})};clearTimeout(a.state.countdownTID),t(e),a.state.countdownTID=setTimeout(function(){t(e),e-1e3>=0&&a.state.captchaVisible?a.countdown(e-1e3):a.countdown(0)},1e3)},a.openCaptchaView=function(e,t,o){a.setState({captchaVisible:!0,captchaImg:e.data,captchaToken:e,itemClickHandle:t,itemInfo:o}),a.countdown(e.expi-Date.now())},a.closeCaptchaView=function(e){a.setState({captchaVisible:!1,captchaImg:"",captchaToken:null,itemClickHandle:null,itemInfo:null,captchaInputedValue:"",isWrongCaptcha:!1})},a.clickVerifyCaptchaBT=function(e){var t=a.state,o=t.captchaInputedValue,n=t.itemClickHandle,c=t.itemInfo,i=t.captchaToken;a.setState({verifyCaptchaBTdisabled:!0}),n(null,o,c,i,{},function(e){a.setState({isWrongCaptcha:e})},function(){a.setState({verifyCaptchaBTdisabled:!1})})},a.clickRefreshCaptchaBT=function(){var e=a.state.itemInfo;a.setState({refreshCaptchaBTdisabled:!0}),f.a.post("".concat(A,"/books/getbook"),{bookid:e.bookid}).then(function(e){var t=e.data;a.setState({captchaImg:t.data,captchaToken:t,captchaInputedValue:"",isWrongCaptcha:!1}),a.setState({refreshCaptchaBTdisabled:!1}),a.countdown(t.expi-Date.now())})},a.state={searchBarMovetoTop:!1,inputValue:"",keyword:"",jsonData:[],searchResultViewKey:0,isLoading:!1,limitNum:10,supportedBrowser:!0,totopable:!1,qrcodeZoomInable:!1,bookLinkAddr:"",bookTitle:"",captchaVisible:!1,captchaImg:"",captchaToken:null,captchaInputedValue:"",itemClickHandle:null,itemInfo:null,isWrongCaptcha:!1,countdownTime:0,countdownTID:null,refreshCaptchaBTdisabled:!1,verifyCaptchaBTdisabled:!1},a.default={countdownTime:12e4},window.FontFace&&new FontFace("Niconne","url(".concat(P.a,")")).load().then(function(e){return document.fonts.add(e)}),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;L().then(function(e){f.a.defaults.headers.common.Authorization="Bearer ".concat(e)});var t=function(e){return document.querySelector(e)};t(".searchBox>.input i").addEventListener("click",function(t){e.state.inputValue.trim().length>0&&e.submitHandle(e.state.inputValue)}),t(".searchBox>.input>.prompt").addEventListener("keyup",function(t){e.state.inputValue.trim().length>0&&13===t.keyCode&&e.submitHandle(e.state.inputValue)}),this.io=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var a=document.querySelector(".containerBoxMovetoTop");a&&a.classList.remove("topHidden"),e.setState({totopable:!1})}else{var o=document.querySelector(".containerBoxMovetoTop");o&&o.classList.add("topHidden"),e.setState({totopable:!0})}})}),this.io.observe(document.querySelector(".kska_SearchResultView_top"))}},{key:"submitHandle",value:function(e){var t=this;!1===this.state.isLoading&&(this.setState({isLoading:!0}),f.a.post("".concat(A,"/books/search"),{keyword:e,skipNum:0,limitNum:this.state.limitNum}).then(function(a){document.title="".concat(e," - Your-Ebook"),t.setState({isLoading:!1,keyword:e,jsonData:a.data,searchResultViewKey:Date.now()})}).catch(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchBarMovetoTop,o=t.inputValue,c=t.jsonData,i=t.keyword,l=t.searchResultViewKey,r=t.totopable,s=t.qrcodeZoomInable,d=t.bookLinkAddr,u=t.bookTitle,m=t.captchaVisible,p=t.captchaImg,h=t.captchaInputedValue,f=t.itemInfo,I=t.isWrongCaptcha,V=t.countdownTime,N=t.refreshCaptchaBTdisabled,B=t.verifyCaptchaBTdisabled;return n.a.createElement("div",null,n.a.createElement(y.Helmet,null,n.a.createElement("title",null,"Your-Ebook"),n.a.createElement("meta",{name:"description",content:"\u514d\u8d39\u7535\u5b50\u4e66, \u6db5\u76d6\u5386\u53f2\u3001\u653f\u6cbb\u3001\u7ecf\u6d4e\u3001\u5fc3\u7406\u3001\u54f2\u5b66\u3001\u6570\u5b66\u3001\u8ba1\u7b97\u673a\u7b49\u65b9\u9762\u3002"}),n.a.createElement("meta",{name:"keywords",content:"\u7535\u5b50\u4e66,\u514d\u8d39\u7535\u5b50\u4e66"}),n.a.createElement("meta",{property:"og:title",content:"Home"}),n.a.createElement("meta",{property:"og:type",content:"website"}),n.a.createElement("meta",{property:"og:url",content:window.location.href}),n.a.createElement("meta",{property:"og:site_name",content:"Your Ebook"}),n.a.createElement("meta",{property:"og:image",content:window.location.origin+"/og.image.yourebook.png"}),n.a.createElement("meta",{property:"og:description",content:"\u514d\u8d39\u7535\u5b50\u4e66, \u6db5\u76d6\u5386\u53f2\u3001\u653f\u6cbb\u3001\u7ecf\u6d4e\u3001\u5fc3\u7406\u3001\u54f2\u5b66\u3001\u6570\u5b66\u3001\u8ba1\u7b97\u673a\u7b49\u65b9\u9762\u3002"})),n.a.createElement("div",{className:"containerBox "+(a?"containerBoxMovetoTop":"")},n.a.createElement(b.a,{className:"segmentBox"},n.a.createElement(k.a,{src:"./img/ebook.png",size:"small",className:"bookimg",title:"Your Ebook",href:"https://github.com/kska32/ebooks",target:"_blank",alt:"website logo"}),n.a.createElement(w.a,null),n.a.createElement(w.a,null),n.a.createElement(g.a,{fluid:!0,size:"large",className:"searchBox",open:!1,value:o,onSearchChange:this.inputHandle,onFocus:this.focusHandle,onBlur:this.blurHandle,placeholder:"Search...."}))),n.a.createElement("div",{className:"searchResultBox"},n.a.createElement("div",{className:"kska_SearchResultView_top"}),"object"===typeof c?n.a.createElement(_,{jsonData:c,keyword:i,key:l,qrcodeZoomIn:this.qrcodeZoomIn,openCaptchaView:this.openCaptchaView,closeCaptchaView:this.closeCaptchaView}):n.a.createElement("div",{className:"notfound",style:{fontSize:"30px"}},"The Book Not Found")),n.a.createElement("div",{className:this.state.isLoading?"mainLoadingShowed":"mainLoadingHidden"},n.a.createElement(v.a,{active:!0,inline:"centered",size:"big",content:"Loading"})),c.length>0&&n.a.createElement(E.a,{name:"arrow up",className:"gototop"+(r?" animated slideInUp fast show":" animated bounceOut fast hide"),size:"big",circular:!0,onClick:this.gototop}),s&&n.a.createElement("div",{className:"qrcodeZoomModel",onClick:function(){e.setState({qrcodeZoomInable:!1})}},n.a.createElement(j.a,{className:"qrcode",value:d,includeMargin:!0,size:256,renderAs:"svg",onClick:function(e){e.stopPropagation()}}),n.a.createElement("div",{className:"bookTitle"},u)),m&&n.a.createElement("div",{className:"captchaViewWrapper",onDoubleClick:this.closeCaptchaView},n.a.createElement("div",{className:"captchaView"},n.a.createElement("div",{className:"captchaInnerView",onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()}},null!==f&&n.a.createElement("div",{className:"bookname",title:f.bookname},f.bookname.slice(0,52)+(f.bookname.length>52?"....":"")),n.a.createElement("div",{className:"captchaImg",dangerouslySetInnerHTML:{__html:p}}),I&&n.a.createElement(S.a,{pointing:"below",basic:!0,color:"red",size:"tiny",content:"Invalid or wrong captcha..."}),n.a.createElement(C.a,{className:"captchaInput",focus:!0,placeholder:"Enter captcha",onFocus:function(){e.setState({isWrongCaptcha:!1})},value:h,onInput:function(t){var a=t.target;e.setState({captchaInputedValue:a.value})},maxLength:12,"data-timer":V}),n.a.createElement(T.a.Group,{className:"btGroup",circular:"true"},n.a.createElement(T.a,{icon:"repeat",circular:!0,color:"green",onClick:this.clickRefreshCaptchaBT,disabled:N,loading:N}),n.a.createElement(T.a,{icon:"check circle outline",color:"blue",content:"Continue",onClick:this.clickVerifyCaptchaBT,disabled:B,loading:B})),n.a.createElement(E.a,{name:"close",className:"closeCaptchaBT",size:"large",color:"teal",fitted:!0,onClick:this.closeCaptchaView})))))}}]),t}(o.Component),Z=a(453),U=a(212),K=a.n(U),G=(a(438),"");window.base64url=z.a;var J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).submitHandle=function(e){void 0!==e&&!1===a.state.isLoading&&(a.setState({isLoading:!0}),f.a.post("".concat(G,"/books/search"),{keyword:e,skipNum:0,limitNum:1}).then(function(t){document.title="".concat(e," - Your-Ebook"),a.setState({isLoading:!1,keyword:e,jsonData:t.data,searchResultViewKey:Date.now(),downloadBTdisabled:"Not Found"===t.data})}).catch(function(e){console.log(e)}))},a.download=function(e,t){var a=H.a.createWriteStream(t).getWriter();a.write(new Uint8Array(e)),a.close()},a.downloadClick=function(){var e=a.state.jsonData[0],t=e._id,o=e.title,n=e.size,c=t,i=o;f.a.post("".concat(G,"/books/getbook"),{bookid:c}).then(function(e){if(void 0!==e.data.data){var t=e.data;a.openInitCaptchaView(t,{bookid:c,bookname:i,size:n})}}).catch(function(e){console.log(e)})},a.countdown=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.countdownTime,t=function(e){var t=new Date(e).toUTCString().split(":"),o=t[1],n=t[2].slice(0,2),c="".concat(o,":").concat(n);a.setState({countdownTime:c})};clearTimeout(a.state.countdownTID),t(e),a.state.countdownTID=setTimeout(function(){t(e),e-1e3>=0&&a.state.captchaVisible?a.countdown(e-1e3):a.countdown(0)},1e3)},a.openInitCaptchaView=function(e,t){a.setState({captchaVisible:!0,captchaImg:e.data,captchaToken:e,itemInfo:t}),a.countdown(e.expi-Date.now())},a.closeCaptchaView=function(){a.setState({captchaVisible:!1})},a.resetCaptchaInfo=function(){a.setState({captchaImg:"",captchaToken:null,itemInfo:null,captchaInputedValue:"",isWrongCaptcha:!1})},a.postStart=function(){a.setState({downloadBTdisabled:!0,downloadBTcontent:"DOWNLOADING...."})},a.postEnd=function(){a.setState({downloadBTdisabled:!0,downloadBTcontent:"DOWNLOADED SUCCESSFULLY!"}),setTimeout(function(){a.setState({downloadBTdisabled:!1,downloadBTcontent:"DOWNLOAD"})},3e3)},a.clickVerifyCaptchaBT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],a.state),n=o.itemInfo,c=o.captchaToken,i=o.captchaInputedValue;a.setState({verifyCaptchaBTdisabled:!0}),void 0!==i&&(c.text=i,f.a.post("".concat(G,"/books/getbook"),{bookid:n.bookid,token:c},t).then(function(e){if(a.setState({verifyCaptchaBTdisabled:!1}),200===e.status){var t=e.data;"111"===t.result?(a.setState({itemInfo:n,captchaToken:e.data,captchaInputedValue:i}),a.closeCaptchaView(),a.postStart(),a.clickVerifyCaptchaBT(null,{responseType:"arraybuffer",onDownloadProgress:function(e){a.setState({progressTotal:e.total,progressValue:e.loaded})}})):t.result?a.setState({isWrongCaptcha:!0}):(a.download(t,n.bookname),a.resetCaptchaInfo(),a.postEnd())}}))},a.clickRefreshCaptchaBT=function(){var e=a.state.itemInfo;a.setState({refreshCaptchaBTdisabled:!0}),f.a.post("".concat(G,"/books/getbook"),{bookid:e.bookid}).then(function(e){var t=e.data;a.setState({captchaImg:t.data,captchaToken:t,captchaInputedValue:"",isWrongCaptcha:!1}),a.setState({refreshCaptchaBTdisabled:!1}),a.countdown(t.expi-Date.now())})},a.state={inputValue:"",keyword:"",jsonData:[],searchResultViewKey:0,isLoading:!1,progressTotal:null,progressValue:null,downloadBTdisabled:!0,downloadBTcontent:"DOWNLOAD",bn:"",ebn:"",captchaVisible:!1,captchaImg:"",captchaToken:null,captchaInputedValue:"",itemInfo:null,isWrongCaptcha:!1,countdownTime:0,countdownTID:null,refreshCaptchaBTdisabled:!1,verifyCaptchaBTdisabled:!1},a.default={countdownTime:12e4},window.FontFace&&new FontFace("Niconne","url(".concat(P.a,")")).load().then(function(e){return document.fonts.add(e)}),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=K.a.parse(this.props.location.search).ebn;L().then(function(a){if(f.a.defaults.headers.common.Authorization="Bearer ".concat(a),void 0===t)e.setState({jsonData:"Not Found"});else{var o=z.a.decode(t);e.setState({ebn:t,bn:o}),e.submitHandle(o)}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.jsonData,o=t.progressTotal,c=t.progressValue,i=t.downloadBTdisabled,l=t.downloadBTcontent,r=t.bn,s=t.captchaVisible,d=t.captchaImg,u=t.captchaInputedValue,m=t.itemInfo,p=t.isWrongCaptcha,h=t.countdownTime,f=t.refreshCaptchaBTdisabled,b=t.verifyCaptchaBTdisabled;return n.a.createElement("div",{className:"onePage"},n.a.createElement(y.Helmet,null,n.a.createElement("title",null,"Your-Ebook"),n.a.createElement("meta",{name:"description",content:"\u514d\u8d39\u7535\u5b50\u4e66, \u6db5\u76d6\u5386\u53f2\u3001\u653f\u6cbb\u3001\u7ecf\u6d4e\u3001\u5fc3\u7406\u3001\u54f2\u5b66\u3001\u6570\u5b66\u3001\u8ba1\u7b97\u673a\u7b49\u65b9\u9762\u3002"}),n.a.createElement("meta",{name:"keywords",content:"\u7535\u5b50\u4e66,\u514d\u8d39\u7535\u5b50\u4e66"}),n.a.createElement("meta",{property:"og:title",content:r+" - Your Ebook"}),n.a.createElement("meta",{property:"og:type",content:"ebook"}),n.a.createElement("meta",{property:"og:url",content:window.location.href}),n.a.createElement("meta",{property:"og:site_name",content:"Your Ebook"}),n.a.createElement("meta",{property:"og:image",content:window.location.origin+"/og.image.yourebook.png"}),n.a.createElement("meta",{property:"og:description",content:"\u514d\u8d39\u7535\u5b50\u4e66 - "+r})),n.a.createElement("div",{className:"onePage"},n.a.createElement("div",{className:"website_name"},n.a.createElement("a",{href:"/"},n.a.createElement("h1",null,"YOUR-EBOOK"))),"object"===typeof a?a.length>0&&n.a.createElement("div",{className:"bookInfo"},n.a.createElement("div",{className:"bookTitle"},a[0].title),n.a.createElement("div",{className:"bookSize"},"\u2264"+Math.ceil(a[0].size/1024/1024)+"MB")):n.a.createElement("div",{className:"booknotfound"},"404 - NOT FOUND"),n.a.createElement(Z.a,{className:"downloadProgress",size:"medium",color:"olive",precision:2,total:o,value:c,progress:!0,indicating:!0})),n.a.createElement(T.a,{className:"downloadBT",size:"medium",circular:!0,color:"green",content:l,disabled:i,onClick:this.downloadClick}),n.a.createElement("div",{className:this.state.isLoading?"mainLoadingShowed":"mainLoadingHidden"},n.a.createElement(v.a,{active:!0,inline:"centered",size:"big",content:"Loading"})),s&&n.a.createElement("div",{className:"captchaViewWrapper",onDoubleClick:this.closeCaptchaView},n.a.createElement("div",{className:"captchaView"},n.a.createElement("div",{className:"captchaInnerView",onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()}},null!==m&&n.a.createElement("div",{className:"bookname",title:m.bookname},m.bookname.slice(0,52)+(m.bookname.length>52?"....":"")),n.a.createElement("div",{className:"captchaImg",dangerouslySetInnerHTML:{__html:d}}),p&&n.a.createElement(S.a,{pointing:"below",basic:!0,color:"red",size:"tiny",content:"Wrong captcha..."}),n.a.createElement(C.a,{className:"captchaInput",focus:!0,placeholder:"Enter captcha",onFocus:function(){e.setState({isWrongCaptcha:!1})},value:u,onInput:function(t){var a=t.target;e.setState({captchaInputedValue:a.value})},maxLength:12,"data-timer":h}),n.a.createElement(T.a.Group,{className:"btGroup",circular:"true"},n.a.createElement(T.a,{icon:"repeat",circular:!0,color:"green",disabled:f,loading:f,onClick:this.clickRefreshCaptchaBT}),n.a.createElement(T.a,{icon:"check circle outline",color:"blue",content:"Continue",onClick:function(t){e.clickVerifyCaptchaBT(t)},disabled:b,loading:b})),n.a.createElement(E.a,{name:"close",className:"closeCaptchaBT",size:"large",color:"teal",fitted:!0,onClick:this.closeCaptchaView})))))}}]),t}(o.Component),X=Object(p.g)(J),$=(a(441),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement(m.a,null,n.a.createElement("div",{className:"YourEbookContainer"},n.a.createElement(p.d,null,n.a.createElement(p.b,{exact:!0,path:"/"},n.a.createElement(Y,null)),n.a.createElement(p.b,{path:"/share"},n.a.createElement(X,null)),n.a.createElement(p.b,null,n.a.createElement(p.a,{to:"/"})))))}}]),t}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,a){e.exports=a.p+"static/media/Niconne-Regular.1c8d9ad0.ttf"}},[[226,1,2]]]);